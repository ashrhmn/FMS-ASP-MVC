@model List<Flight_Management_System.Models.TransportModelSR>
    @using Flight_Management_System.Models.Database;
    @{
        Flight_ManagementEntities db = new Flight_ManagementEntities();
        var fstopage = db.Stopages;
        var sclass = db.SeatClassEnums;
        string[] days = { "Saturday", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday" };
    }

    @{
        ViewBag.Title = "Flights";
        Layout = "~/Views/Shared/_UserLayout.cshtml";
    }


    <h2>Flights</h2>

    <form action="/User/Flights" method="post" class="form-horizontal">

        <div class="form-group">
            <label class="col-md-2 control-label">From</label>
            <div class="col-md-10">

                <select name="FromStopageId">
                    @foreach (var fs in fstopage)
                    {
                        <option  selected value="@fs.Id">@fs.City.Name , @fs.Name , @fs.City.Country</option>
                    }


                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 control-label">Destination</label>
            <div class="col-md-10">

                <select name="ToStopageId">
                    @foreach (var ts in fstopage)
                    {
                        <option selected value="@ts.Id">@ts.City.Name , @ts.Name , @ts.City.Country</option>
                    }

                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 control-label">Select Seat Class</label>
            <div class="col-md-10">

                <select name="ClassId">
                    @foreach (var fs in sclass)
                    {
                        <option selected value="@fs.Id">@fs.Value</option>
                    }


                </select>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-2 control-label">Travel Date</label>
            <div class="col-md-10">

             <input type="date" name="Date"  class="form-control" />
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" class="btn btn-default" value="Search" />
            </div>
        </div>

    </form>

    @if (Model?.Any() != false)
      {
          <div class="tab-content">
        <table class="table">
            <tr>
                <th>Name</th>
                <th>From</th>
                <th>Destination</th>
                <th>Day</th>
                <th>Available Seats</th>
                <th>Date Time</th>
                <th>Starting Fare</th>
                <th>Go To</th>

            </tr>
            @foreach (var f in Model)
            {
                <tr>
                    <td>@f.Name</td>
                    <td>@f.FromStopage</td>
                    <td>@f.ToStopage</td>
                    <td>@f.Day</td>
                    <td>@f.AvailableSeats</td>
                    <td>@f.Date</td>
                    <td>@f.SFare</td>
                    <td><a href="/User/Book/@f.Id">Book</a></td>
                </tr>
            }

        </table>
    </div>
 
      }
          
      